- model_class = Client
.container-narrow
  .row-fluid
    .span4
      .well.sidebar-nav
        - unless @client.image.blank?
          = image_tag(@client.image_url(:thumb).to_s)
        - else
          = image_tag('/no_avatar.gif')
        %h4.text-success
          %i.icon-user
          = @client.full_name
        %p
          %strong= "Username"
          - unless @client.user.blank?
            = @client.user.username
          - else
            = "Not yet signed up"
        %p
          %strong= "Trainer"
          - unless @client.trainer.blank?
            = @client.trainer.full_name
          - else
            = "None"
        %p
          %strong= model_class.human_attribute_name(:email)
          = @client.email
        %p
          %strong= model_class.human_attribute_name(:phone)
          = @client.phone
        %p
          %strong= model_class.human_attribute_name(:dob)
          = @client.dob.strftime("%m/%d/%Y")
        %p
          %strong= "Age"
          = @client.dob_age
    .span8
      .tabbable{:style => "margin-bottom: 18px;"}
        - if false
          %ul.nav.nav-tabs
        .btn-group
          %ul.nav.nav-pills
            %li.active
              %a{:href => "#workouts", :data => {:toggle => "tab"}, :rel => 'tooltip', :title => "View #{@client.first_name}'s Workouts"}
                %button.btn
                  %strong.text-orange
                    %i.icon-tasks
            %li
              %a{:href => "#bodycomps", :data => {:toggle => "tab"}, :rel => 'tooltip', :title => "View #{@client.first_name}'s Bodycomps"}
                %button.btn
                  %strong.text-error
                    %i.icon-th-list
            %li
              %a{:href => "#pictures", :data => {:toggle => "tab"}, :rel => 'tooltip', :title => "View #{@client.first_name}'s Pictures"}
                %button.btn
                  %strong
                    %i.icon-camera
            %li
              %a{:href => "#documents", :data => {:toggle => "tab"}, :rel => 'tooltip', :title => "View #{@client.first_name}'s Documents"}
                %button.btn
                  %strong.text-yellow
                    %i.icon-file
            %li
              %a{:href => "#notifications", :data => {:toggle => "tab"}, :rel => 'tooltip', :title => "View #{@client.first_name}'s Notifications"}
                %button.btn
                  %strong.text-info
                    %i.icon-envelope
        .tab-content{:style => "padding-bottom: 9px; border-bottom: 1px solid #ddd;"}
          .tab-pane.active{:id => "workouts"}
            %p
              %a{:href => '#', :rel => 'tooltip', :title => "Create a new Workout for #{@client.first_name}"}
                %button.btn.btn-small
                  .text-orange
                    %i.icon-tasks
                    New Workout
          .tab-pane{:id => "bodycomps"}
            %p
              - @client.bodycomps.reverse.each do |bodycomp|
                %a{:href => bodycomp_path(bodycomp), :rel => 'tooltip', :title => "View details of #{@client.first_name}'s #{bodycomp.date.strftime("%m/%d/%Y")} Bodycomp"}
                  %button.btn
                    .text-error
                      %i.icon-th-list
                      = bodycomp.date.strftime("%m/%d/%Y")
            %p
              %a{:href => new_bodycomp_path(:client => @client), :rel => 'tooltip', :title => "Create a new Bodycomp for #{@client.first_name}"}
                %button.btn.btn-small
                  .text-error
                    %i.icon-th-list
                    New Bodycomp
          .tab-pane{:id => "pictures"}
            - @client.bodycomps.each do |bodycomp|
              - bodycomp.pictures.each_slice(3) do |pics|
                %ul.thumbnails
                  - pics.each do |pic|
                    %li.span4
                      = link_to image_tag(pic.image_url(:thumb).to_s), "#pic" + pic.id.to_s, :class => "thumbnail", "data-toggle" => "modal", :href => "#pic" + pic.id.to_s, :type => "button", :title => "Click to view large image", :rel => 'tooltip'
                    %div{:id => "pic" + pic.id.to_s, :class => "modal", :style => "display:none;"}
                      .modal-header
                        = link_to "Ã—", '#', :class => "close", "data-dismiss" => "modal"
                        = bodycomp.date.strftime("%b %e %Y")
                      .modal-body
                        = image_tag(pic.image_url.to_s)
                      .modal-footer
                        = link_to 'Close', '#', :class => 'btn', "data-dismiss" => "modal"
          .tab-pane{:id => "documents"}
            %p Documents
          .tab-pane{:id => "notifications"}
            %p Notifications

  .form-actions
    %a{:href => clients_path, :class => 'btn'}
      %i.icon-chevron-left
      Back
    %a{:href => edit_client_path(@client), :class => 'btn'}
      = "Edit"
      %i.icon-edit
    %a{:href => client_path(@client), :data => { :confirm => "Are you sure?" }, :method => :delete, :class => 'btn btn-danger'}
      = "Delete"
      %i.icon-remove
  - if false
    %dl.dl-horizontal
      %dt
        %strong= "Name"
      %dd= @client.full_name
      %dt
        %strong= "Username"
      - unless @client.user.blank?
        %dd= @client.user.username
      - else
        %dd= "Not yet signed up"
      %dt
        %strong= "Trainer"
      - unless @client.trainer.blank?
        %dd= @client.trainer.full_name
      - else
        %dd= "None"
      %dt
        %strong= model_class.human_attribute_name(:email)
      %dd= @client.email
      %dt
        %strong= model_class.human_attribute_name(:phone)
      %dd= @client.phone
      %dt
        %strong= model_class.human_attribute_name(:dob)
      %dd= @client.dob.strftime("%m/%d/%Y")
      %dt
        %strong= "Age"
      %dd= @client.dob_age

    .form-actions
      %a{:href => clients_path, :class => 'btn'}
        %i.icon-chevron-left
        Back
      %a{:href => edit_client_path(@client), :class => 'btn'}
        = "Edit"
        %i.icon-edit
      %a{:href => client_path(@client), :data => { :confirm => "Are you sure?" }, :method => :delete, :class => 'btn btn-danger'}
        = "Delete"
        %i.icon-remove